<html><body bgcolor="#000000" text="#ffffff"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><p>
This problem is about strings that consist of left and right parentheses only: '(' and ')'.
</p>
<p>
Informally, a string is called <i>balanced</i> if each left parenthesis has a matching right parenthesis, as in a mathematical expression.
</p>
<p>
Formally:
</p>
<ul>
<li>The empty string is a balanced string.</li>
<li>If S is a balanced string, then '(' + S + ')' is a balanced string.</li>
<li>If S and T are balanced strings, so is S + T.</li>
<li>No other strings are balanced.</li>
</ul>
<p>
For example, strings "<tt>()</tt>", "<tt>(())</tt>", and "<tt>(()())()</tt>" are balanced while "<tt>(</tt>", "<tt>)(</tt>", and "<tt>(()))</tt>" are not.
</p>
<p>
The <i>beauty</i> of a string S is the number of non-empty contiguous substrings of S that are balanced.
Two substrings are considered distinct if they begin and/or end at different positions in S.
</p>
<p>
Example: The beauty of the string "<tt>()(())</tt>" is 4, as shown below.
</p>
<pre>
             string: ()(())
balanced substrings: ()....
                     ..(())
                     ...().
                     ()(())
</pre>

<p>
You are given a String <b>s</b>.
You can rearrange the characters of <b>s</b> arbitrarily (but you cannot add, remove, or replace characters).
Calculate and return the beauty of the most beautiful string you can produce.
</p></td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>MaximumBalances</td></tr><tr><td>Method:</td><td>solve</td></tr><tr><td>Parameters:</td><td>String</td></tr><tr><td>Returns:</td><td>int</td></tr><tr><td>Method signature:</td><td>int solve(String s)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>256</td></tr></table></td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>s</b> will contain between 1 and 2,500 characters, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Each character of <b>s</b> will be '(' or ')'.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>&quot;((((&quot;</pre></td></tr></table></td></tr><tr><td><pre>Returns: 0</pre></td></tr><tr><td><table><tr><td colspan="2">This is the only string we can produce: rearranging four left parentheses doesn't change anything. The beauty of this string is zero: there are no non-empty balanced substrings.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>&quot;(())&quot;</pre></td></tr></table></td></tr><tr><td><pre>Returns: 3</pre></td></tr><tr><td><table><tr><td colspan="2">We can rearrange these parentheses in several different ways, for example, "))((", "())(", "(())", or "()()". Among all the options the most beautiful one is the string "()()" with beauty 3.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>&quot;)))())&quot;</pre></td></tr></table></td></tr><tr><td><pre>Returns: 1</pre></td></tr><tr><td><table><tr><td colspan="2">The input string is one of the most beautiful strings. There are also other strings with the same beauty: 1.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>&quot;))()()))(()&quot;</pre></td></tr></table></td></tr><tr><td><pre>Returns: 10</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>