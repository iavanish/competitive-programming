<html><body bgcolor="#000000" text="#ffffff"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><p>
A common selling trick for collectibles is the "blind box" format, in which there are multiple different designs for a certain collectible.
The outer packaging of the collectible does not indicate which design will be inside. 
Thus, collecting a complete set of designs means that a little bit of luck and persistence is required.
And getting all the designs will often involve getting several duplicates as well, which is precisely the point of this selling trick.
</p>

<p>
You want to collect <b>numSets</b> complete sets of designs of one particular collectible.
There are <b>numItems</b> different designs.
You are purchasing the collectibles one at a time, and each purchase will yield a design chosen uniformly at random.
What is the expected total number of purchases you will make until you collect at least <b>numSets</b> copies of each design?
</p></td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>BlindBoxSets</td></tr><tr><td>Method:</td><td>expectedPurchases</td></tr><tr><td>Parameters:</td><td>int, int</td></tr><tr><td>Returns:</td><td>double</td></tr><tr><td>Method signature:</td><td>double expectedPurchases(int numSets, int numItems)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>256</td></tr></table></td></tr><tr><td colspan="2"><h3>Notes</h3></td></tr><tr><td align="center" valign="top">-</td><td>Returned value must be within 1e-9 absolute or relative error of the reference output to be considered correct.</td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>numSets</b> will be between 1 and 4, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>numItems</b> will be between 1 and 50, inclusive.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>1</pre></td></tr><tr><td><pre>1</pre></td></tr></table></td></tr><tr><td><pre>Returns: 1.0</pre></td></tr><tr><td><table><tr><td colspan="2">There is exactly one item, and you want one set of it. If you buy an item, you're guaranteed to get the one you're looking for.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>1</pre></td></tr><tr><td><pre>2</pre></td></tr></table></td></tr><tr><td><pre>Returns: 3.0</pre></td></tr><tr><td><table><tr><td colspan="2"><p>There are two different designs and you want to have both of them. If you are lucky, two purchases are enough but sometimes you will need more. For example, with probability 1/8 the second and the third box you'll purchase will contain the same design as the first box, and only the fourth box will yield the other design.</p>
<p>On average, you will need to purchase exactly three boxes.</p></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>2</pre></td></tr><tr><td><pre>1</pre></td></tr></table></td></tr><tr><td><pre>Returns: 2.0</pre></td></tr><tr><td><table><tr><td colspan="2">Since there's only one unique design, simply buying two items gets you two "complete sets".</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>2</pre></td></tr><tr><td><pre>2</pre></td></tr></table></td></tr><tr><td><pre>Returns: 5.5</pre></td></tr><tr><td><table><tr><td colspan="2">After we buy two items, we have an even chance of either of two scenarios:
<ul>
<li>We already have two copies of the same design and we need two copies of the other. On average, this requires four more purchases.</li>
<li>We already have one copy of each design and we need one more copy of each design. This is the same situation as in Example #1 and thus on average it requires three more purchases.</li>
</ul>
<p>
So, on average, we need 2 + (4+3) / 2 = 5.5 total purchases.
</p></td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>